$(function(){
	alert('Test accounts');
    //Backbone Model
    var Task = Backbone.Model.extend({});

    // create a collection
    var TaskCollection = Backbone.Collection.extend({
        model: Task,
        url: '/accounts'
    });
    var taskCollection = new TaskCollection();
    taskCollection.fetch();

	TasklistView = Backbone.View.extend({
		initialize: function(){
			this.render();
		},
		events: {
            "click input[type=button]": "addTask"
        },
        doSearch: function( event ){
            // Button clicked, you can access the element that was clicked with event.currentTarget
            alert( "Create task " + $("#task_name").val() );
        },
		render: function(){
			// Compile the template using underscore
			var template = _.template( $("#tasklist_template").html(), {} );
			alert('template: ' + $("#tasklist_template").html());
			// Load the compiled HTML into the Backbone "el"
			this.el.html( template );
		}
	});
	
	var tasklistView = new TasklistView({ el: $("#tasklist_container") });
});